---
  apiVersion: v1
  kind: Pod
  metadata:
    name: spark-pod
    namespace: default
    labels:
      app: spark-pod
  spec:
    #securityContext:
      #runAsUser: 1000
      #runAsGroup: 3000
      #fsGroup: 2000
    containers:
      - name: spark-container-official
        image: heleonu/spark-py:1.1
        imagePullPolicy: "IfNotPresent"
        command: ["bash", "-c", "while true; do echo 1; sleep 1; done"]
        ports:
          - containerPort: 7077
          - containerPort: 8080
        #securityContext:
          #allowPrivilegeEscalation: false
    serviceAccountName: spark-sa
      #- name: kube-proxy-sidecar
        #image: bitnami/kubectl
        #command: ["kubectl", "proxy"]
        #ports:
          #- containerPort: 8001
          